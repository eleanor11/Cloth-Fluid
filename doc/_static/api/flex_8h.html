<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>FLEX: flex.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="flex.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nvidia.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">FLEX
   &#160;<span id="projectnumber">0.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">flex.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="flex_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:struct_flex_params"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#struct_flex_params">FlexParams</a></td></tr>
<tr class="separator:struct_flex_params"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_flex_s_d_f"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#struct_flex_s_d_f">FlexSDF</a></td></tr>
<tr class="separator:struct_flex_s_d_f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_flex_timers"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#struct_flex_timers">FlexTimers</a></td></tr>
<tr class="separator:struct_flex_timers"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad6ddba80f51ca218fb6b333a304d59b5"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#ad6ddba80f51ca218fb6b333a304d59b5">FlexErrorCallback</a>) (const char *msg, const char *file, int line)</td></tr>
<tr class="separator:ad6ddba80f51ca218fb6b333a304d59b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa84210ede314159681ff175501ee801a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#aa84210ede314159681ff175501ee801a">FlexRelaxationMode</a> { <br />
&#160;&#160;<a class="el" href="flex_8h.html#aa84210ede314159681ff175501ee801aa96f719e9962973941d46799e9cf60294">eFlexRelaxationGlobal</a> = 0, 
<br />
&#160;&#160;<a class="el" href="flex_8h.html#aa84210ede314159681ff175501ee801aaa94838be8309c75e80f261bf7e88c004">eFlexRelaxationLocal</a> = 1
<br />
 }</td></tr>
<tr class="separator:aa84210ede314159681ff175501ee801a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a1a5eafd344f1128a1de76437c569f5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a2a1a5eafd344f1128a1de76437c569f5">FlexPhase</a> { <br />
&#160;&#160;<a class="el" href="flex_8h.html#a2a1a5eafd344f1128a1de76437c569f5ad91fca71478c6f7b65db6c93a25710e4">eFlexPhaseGroupMask</a> = 0x00ffffff, 
<br />
&#160;&#160;<a class="el" href="flex_8h.html#a2a1a5eafd344f1128a1de76437c569f5a8d6fa802a0a5c503c9dc020e29c74716">eFlexPhaseSelfCollide</a> = 1 &lt;&lt; 24, 
<br />
&#160;&#160;<a class="el" href="flex_8h.html#a2a1a5eafd344f1128a1de76437c569f5aa1c5ffee686acb16bd7f004de4892c17">eFlexPhaseFluid</a> = 1 &lt;&lt; 25
<br />
 }</td></tr>
<tr class="separator:a2a1a5eafd344f1128a1de76437c569f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa15448fe80100ed8d350242c50c02099"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#aa15448fe80100ed8d350242c50c02099">FlexError</a> { <br />
&#160;&#160;<a class="el" href="flex_8h.html#aa15448fe80100ed8d350242c50c02099a98f4b9d464787ccc7355b7a2fd132681">eFlexErrorNone</a> = 0, 
<br />
&#160;&#160;<a class="el" href="flex_8h.html#aa15448fe80100ed8d350242c50c02099ad7805619e1b9d9c97b8a37cb7f51cd19">eFlexErrorWrongVersion</a> = 1, 
<br />
&#160;&#160;<a class="el" href="flex_8h.html#aa15448fe80100ed8d350242c50c02099abb05a2f612920d716450abbb1dd76868">eFlexErrorInsufficientGPU</a> = 2
<br />
 }</td></tr>
<tr class="separator:aa15448fe80100ed8d350242c50c02099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4a07b65ccdc55b103e389d3a13c43f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> { <br />
&#160;&#160;<a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43fa9a07db2255d11767f0154b949d86f682">eFlexMemoryHost</a> = 0, 
<br />
&#160;&#160;<a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43fa83434c6e48e1f93f9af0ef9700e4703c">eFlexMemoryDevice</a> = 1, 
<br />
&#160;&#160;<a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43fa7151aacd0b90a03de715a906cd65d75e">eFlexMemoryHostAsync</a> = 2, 
<br />
&#160;&#160;<a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43fa3e07d54e4afd7cc0f62683b084df6860">eFlexMemoryDeviceAsync</a> = 3
<br />
 }</td></tr>
<tr class="separator:a8d4a07b65ccdc55b103e389d3a13c43f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aaa8bead533bb85e325671a0542a1ed66"><td class="memItemLeft" align="right" valign="top">FLEX_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#aaa8bead533bb85e325671a0542a1ed66">flexMakePhase</a> (int group, int flags)</td></tr>
<tr class="separator:aaa8bead533bb85e325671a0542a1ed66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67853f365937a07de6cb45987365036d"><td class="memItemLeft" align="right" valign="top">FLEX_API <a class="el" href="flex_8h.html#aa15448fe80100ed8d350242c50c02099">FlexError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a67853f365937a07de6cb45987365036d">flexInit</a> (int version=FLEX_VERSION, <a class="el" href="flex_8h.html#ad6ddba80f51ca218fb6b333a304d59b5">FlexErrorCallback</a> errorFunc=NULL)</td></tr>
<tr class="separator:a67853f365937a07de6cb45987365036d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f793e21e30d933d8328eff12ca7e83"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a37f793e21e30d933d8328eff12ca7e83">flexShutdown</a> ()</td></tr>
<tr class="separator:a37f793e21e30d933d8328eff12ca7e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2dbd7d24ff6c122ccc36246a97fd96"><td class="memItemLeft" align="right" valign="top">FLEX_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#afe2dbd7d24ff6c122ccc36246a97fd96">flexGetVersion</a> ()</td></tr>
<tr class="separator:afe2dbd7d24ff6c122ccc36246a97fd96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a481b2c1f52a59c5f3249c6718d247b91"><td class="memItemLeft" align="right" valign="top">FLEX_API FlexSolver *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a481b2c1f52a59c5f3249c6718d247b91">flexCreateSolver</a> (int maxParticles, int maxDiffuseParticles, unsigned char maxNeighborsPerParticle=96)</td></tr>
<tr class="separator:a481b2c1f52a59c5f3249c6718d247b91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77869d56e0821a0359f9fe4dae983adf"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a77869d56e0821a0359f9fe4dae983adf">flexDestroySolver</a> (FlexSolver *s)</td></tr>
<tr class="separator:a77869d56e0821a0359f9fe4dae983adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a123631e0dac280ff1df7237abbb6eec0"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a123631e0dac280ff1df7237abbb6eec0">flexUpdateSolver</a> (FlexSolver *s, float dt, int substeps, <a class="el" href="flex_8h.html#struct_flex_timers">FlexTimers</a> *timers)</td></tr>
<tr class="separator:a123631e0dac280ff1df7237abbb6eec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a7c08c533ede658aaa45e569f3a4fd"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a34a7c08c533ede658aaa45e569f3a4fd">flexSetParams</a> (FlexSolver *s, const <a class="el" href="flex_8h.html#struct_flex_params">FlexParams</a> *params)</td></tr>
<tr class="separator:a34a7c08c533ede658aaa45e569f3a4fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64fe347379ed3b5d55d92d96177eb845"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a64fe347379ed3b5d55d92d96177eb845">flexSetActive</a> (FlexSolver *s, const int *indices, int n, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> source)</td></tr>
<tr class="separator:a64fe347379ed3b5d55d92d96177eb845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62d99bf673a100a35b432cb5083a9127"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a62d99bf673a100a35b432cb5083a9127">flexGetActive</a> (FlexSolver *s, int *indices, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> target)</td></tr>
<tr class="separator:a62d99bf673a100a35b432cb5083a9127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56ff459103d6db48e9920092c191c3c0"><td class="memItemLeft" align="right" valign="top">FLEX_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a56ff459103d6db48e9920092c191c3c0">flexGetActiveCount</a> (FlexSolver *s)</td></tr>
<tr class="separator:a56ff459103d6db48e9920092c191c3c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bb279ec19890178007a281168c2151a"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a8bb279ec19890178007a281168c2151a">flexSetParticles</a> (FlexSolver *s, const float *p, int n, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> source)</td></tr>
<tr class="separator:a8bb279ec19890178007a281168c2151a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a5686ef401b02ef20df8be6f54e648d"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a5a5686ef401b02ef20df8be6f54e648d">flexGetParticles</a> (FlexSolver *s, float *p, int n, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> target)</td></tr>
<tr class="separator:a5a5686ef401b02ef20df8be6f54e648d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa29cf6cae706f7bcc5466881c94196ed"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#aa29cf6cae706f7bcc5466881c94196ed">flexGetSmoothParticles</a> (FlexSolver *s, float *p, int n, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> target)</td></tr>
<tr class="separator:aa29cf6cae706f7bcc5466881c94196ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19a24c113050dbe1aa0d4e4655d56149"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a19a24c113050dbe1aa0d4e4655d56149">flexSetVelocities</a> (FlexSolver *s, const float *v, int n, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> source)</td></tr>
<tr class="separator:a19a24c113050dbe1aa0d4e4655d56149"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07175d82a67929b600291e03a17a92c5"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a07175d82a67929b600291e03a17a92c5">flexGetVelocities</a> (FlexSolver *s, float *v, int n, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> target)</td></tr>
<tr class="separator:a07175d82a67929b600291e03a17a92c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e68c495aaeea30cc8eff13e2bd2bfef"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a2e68c495aaeea30cc8eff13e2bd2bfef">flexSetPhases</a> (FlexSolver *s, const int *phases, int n, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> source)</td></tr>
<tr class="separator:a2e68c495aaeea30cc8eff13e2bd2bfef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad911873f139019cede3b4e7c2a667126"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#ad911873f139019cede3b4e7c2a667126">flexGetPhases</a> (FlexSolver *s, int *phases, int n, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> target)</td></tr>
<tr class="separator:ad911873f139019cede3b4e7c2a667126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad56d32467a07138f524b8183e8a743a6"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#ad56d32467a07138f524b8183e8a743a6">flexSetSprings</a> (FlexSolver *s, const int *indices, const float *restLengths, const float *stiffness, int numSprings, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> source)</td></tr>
<tr class="separator:ad56d32467a07138f524b8183e8a743a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0a759d7b9b0c32f4ba54fa2a6d85a0f"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#aa0a759d7b9b0c32f4ba54fa2a6d85a0f">flexGetSprings</a> (FlexSolver *s, int *indices, float *restLengths, float *stiffness, int numSprings, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> target)</td></tr>
<tr class="separator:aa0a759d7b9b0c32f4ba54fa2a6d85a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40eedc54bf79039217c4379edd7aca9b"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a40eedc54bf79039217c4379edd7aca9b">flexSetRigids</a> (FlexSolver *s, const int *offsets, const int *indices, const float *restPositions, const float *restNormals, const float *stiffness, const float *rotations, int numRigids, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> source)</td></tr>
<tr class="separator:a40eedc54bf79039217c4379edd7aca9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b641afdd56480c8fb5710909372e956"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a0b641afdd56480c8fb5710909372e956">flexSetNormals</a> (FlexSolver *s, const float *normals, int n, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> source)</td></tr>
<tr class="separator:a0b641afdd56480c8fb5710909372e956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45004233a3f38edf7a524e08f9cc58d4"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a45004233a3f38edf7a524e08f9cc58d4">flexGetNormals</a> (FlexSolver *s, float *normals, int n, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> target)</td></tr>
<tr class="separator:a45004233a3f38edf7a524e08f9cc58d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d272d69e2b9cc0eb50306a08014604a"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a8d272d69e2b9cc0eb50306a08014604a">flexGetRigidTransforms</a> (FlexSolver *s, float *rotations, float *translations, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> target)</td></tr>
<tr class="separator:a8d272d69e2b9cc0eb50306a08014604a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60f1a1b96f0b3800bc15354a7d35a660"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a60f1a1b96f0b3800bc15354a7d35a660">flexSetConvexes</a> (FlexSolver *s, const float *aabbMin, const float *aabbMax, const int *planeOffsets, const int *planeCounts, const float *planes, const float *positions, const float *rotations, const float *prevPositions, const float *prevRotations, const int *flags, int numConvexes, int numPlanes, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> source)</td></tr>
<tr class="separator:a60f1a1b96f0b3800bc15354a7d35a660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9333e3cee8b71dc330a38ddd2d68614"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#ad9333e3cee8b71dc330a38ddd2d68614">flexSetTriangles</a> (FlexSolver *s, const int *indices, const float *vertices, int numTris, int numVertices, float cellSize, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> source)</td></tr>
<tr class="separator:ad9333e3cee8b71dc330a38ddd2d68614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5915816ad9aa4ec813337c1c408c4097"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a5915816ad9aa4ec813337c1c408c4097">flexSetFields</a> (FlexSolver *s, const <a class="el" href="flex_8h.html#struct_flex_s_d_f">FlexSDF</a> *shapes, int numShapes)</td></tr>
<tr class="separator:a5915816ad9aa4ec813337c1c408c4097"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad47d1c0dfa31af7be8ddbc575ec751b9"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#ad47d1c0dfa31af7be8ddbc575ec751b9">flexSetDynamicTriangles</a> (FlexSolver *s, const int *indices, const float *normals, int numTris, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> source)</td></tr>
<tr class="separator:ad47d1c0dfa31af7be8ddbc575ec751b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56bcb20399582c0d74d51823f77a1e95"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a56bcb20399582c0d74d51823f77a1e95">flexGetDynamicTriangles</a> (FlexSolver *s, int *indices, float *normals, int numTris, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> target)</td></tr>
<tr class="separator:a56bcb20399582c0d74d51823f77a1e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f409835a6c1f6a80842f2845c391964"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a3f409835a6c1f6a80842f2845c391964">flexSetInflatables</a> (FlexSolver *s, const int *startTris, const int *numTris, float *restVolumes, float *overPressures, float *constraintScales, int numInflatables, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> source)</td></tr>
<tr class="separator:a3f409835a6c1f6a80842f2845c391964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a8359fd8b3d7484963bf9d2a6d48d73"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a5a8359fd8b3d7484963bf9d2a6d48d73">flexGetDensities</a> (FlexSolver *s, float *densities, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> target)</td></tr>
<tr class="separator:a5a8359fd8b3d7484963bf9d2a6d48d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af13676fdca1e8e3ab60486e77a0041fe"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#af13676fdca1e8e3ab60486e77a0041fe">flexGetAnisotropy</a> (FlexSolver *s, float *q1, float *q2, float *q3, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> target)</td></tr>
<tr class="separator:af13676fdca1e8e3ab60486e77a0041fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16b4a727b7eb9496dc622632945347ce"><td class="memItemLeft" align="right" valign="top">FLEX_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a16b4a727b7eb9496dc622632945347ce">flexGetDiffuseParticles</a> (FlexSolver *s, float *p, float *v, int *indices, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> target)</td></tr>
<tr class="separator:a16b4a727b7eb9496dc622632945347ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a566b6b271d132dc6bb1bbf7e31c2dba7"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a566b6b271d132dc6bb1bbf7e31c2dba7">flexSetDiffuseParticles</a> (FlexSolver *s, const float *p, const float *v, int n, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> source)</td></tr>
<tr class="separator:a566b6b271d132dc6bb1bbf7e31c2dba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85d24ef1b6309d48b4b9bc5dc7549d40"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a85d24ef1b6309d48b4b9bc5dc7549d40">flexGetContacts</a> (FlexSolver *s, float *planes, int *indices, unsigned char *counts, <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a> target)</td></tr>
<tr class="separator:a85d24ef1b6309d48b4b9bc5dc7549d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83c876e62814c30769afbdceb3eba4d4"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a83c876e62814c30769afbdceb3eba4d4">flexGetBounds</a> (FlexSolver *s, float *lower, float *upper)</td></tr>
<tr class="separator:a83c876e62814c30769afbdceb3eba4d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa97bd77c37ff0ace1c204b7e907aac7d"><td class="memItemLeft" align="right" valign="top">FLEX_API void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#aa97bd77c37ff0ace1c204b7e907aac7d">flexAlloc</a> (int size)</td></tr>
<tr class="separator:aa97bd77c37ff0ace1c204b7e907aac7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac43dff907a7c0729357293a38b2ab452"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#ac43dff907a7c0729357293a38b2ab452">flexFree</a> (void *ptr)</td></tr>
<tr class="separator:ac43dff907a7c0729357293a38b2ab452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a424335ccda6d2b10b9da473440dce147"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#a424335ccda6d2b10b9da473440dce147">flexSetFence</a> ()</td></tr>
<tr class="separator:a424335ccda6d2b10b9da473440dce147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab383c23569713b20ffaf491fbfe820a5"><td class="memItemLeft" align="right" valign="top">FLEX_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="flex_8h.html#ab383c23569713b20ffaf491fbfe820a5">flexWaitFence</a> ()</td></tr>
<tr class="separator:ab383c23569713b20ffaf491fbfe820a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="struct_flex_params" id="struct_flex_params"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct FlexParams</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ab3eebbbbb05febd93ceb1a1ee90577e3"></a>int</td>
<td class="fieldname">
mNumIterations</td>
<td class="fielddoc">
Number of solver iterations to perform per-substep. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a8c3a47f2ddeb1bc774885cf17944cd53"></a>float</td>
<td class="fieldname">
mGravity[3]</td>
<td class="fielddoc">
Constant acceleration applied to all particles. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2cd09478d12be8d300cbf53e52a84624"></a>float</td>
<td class="fieldname">
mRadius</td>
<td class="fielddoc">
The maximum interaction radius for particles. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac6eda88a6138504ee41bcbfe2dd611dd"></a>float</td>
<td class="fieldname">
mSolidRestDistance</td>
<td class="fielddoc">
The distance non-fluid particles attempt to maintain from each other, must be in the range (0, radius]. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a9ad9b07115c9bd459ff3ca086f1744f7"></a>float</td>
<td class="fieldname">
mFluidRestDistance</td>
<td class="fielddoc">
The distance fluid particles are spaced at the rest density, must be in the range (0, radius], for fluids this should generally be 50-70% of mRadius, for rigids this can simply be the same as the particle radius. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="acfb4820aa3ff0726ef88b95cfd880aec"></a>float</td>
<td class="fieldname">
mDynamicFriction</td>
<td class="fielddoc">
Coefficient of friction used when colliding against shapes. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aabbcf12e272e9ed65403fb7606868366"></a>float</td>
<td class="fieldname">
mStaticFriction</td>
<td class="fielddoc">
Coefficient of static friction used when colliding against shapes. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2248c1c406c393fd07201629a235b5f8"></a>float</td>
<td class="fieldname">
mParticleFriction</td>
<td class="fielddoc">
Coefficient of friction used when colliding particles. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aecba5c935b0a89754b7fd79b9ad26e72"></a>float</td>
<td class="fieldname">
mRestitution</td>
<td class="fielddoc">
Coefficient of restitution used when colliding against shapes, particle collisions are always inelastic. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac8d957dc525caee42e7a4278d9267cdf"></a>float</td>
<td class="fieldname">
mAdhesion</td>
<td class="fielddoc">
Controls how strongly particles stick to surfaces they hit, default 0.0, range [0.0, +inf]. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a71ea54813afd5d0b5f457fe70879de4c"></a>float</td>
<td class="fieldname">
mSleepThreshold</td>
<td class="fielddoc">
Particles with a velocity magnitude &lt; this threshold will be considered fixed. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa01bedbfb65633d00539a8ee6df945e6"></a>float</td>
<td class="fieldname">
mMaxVelocity</td>
<td class="fielddoc">
Particle velocity will be clamped to this value at the end of each step. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa47ac6721fd99830225a8c3b446e882c"></a>float</td>
<td class="fieldname">
mShockPropagation</td>
<td class="fielddoc">
Artificially decrease the mass of particles based on height from a fixed reference point, this makes stacks and piles converge faster. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a0d4ead565223c48c1fc65a627629eab8"></a>float</td>
<td class="fieldname">
mDissipation</td>
<td class="fielddoc">
Damps particle velocity based on how many particle contacts it has. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aab6551e17a6c460ac70e02eaddbd195f"></a>float</td>
<td class="fieldname">
mDamping</td>
<td class="fielddoc">
Viscous drag force, applies a force proportional, and opposite to the particle velocity. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a4889ec644b4178b79d17302f2950c50c"></a>float</td>
<td class="fieldname">
mEnableCCD</td>
<td class="fielddoc">
If true then a second collision detection pass will be executed against triangle meshes to prevent tunneling, usually not necessary, only enable if having tunnelling problems. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a272f2cf5cb303c3d6e4402ad6ef01b41"></a>float</td>
<td class="fieldname">
mWind[3]</td>
<td class="fielddoc">
Constant acceleration applied to particles that belong to dynamic triangles, drag needs to be &gt; 0 for wind to affect triangles. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a324ea91980ce4f37d0572a785052fd05"></a>float</td>
<td class="fieldname">
mDrag</td>
<td class="fielddoc">
Drag force applied to particles belonging to dynamic triangles, proportional to velocity^2*area in the negative velocity direction. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a25e02ef7145db1986045125d308883bf"></a>float</td>
<td class="fieldname">
mLift</td>
<td class="fielddoc">
Lift force applied to particles belonging to dynamic triangles, proportional to velocity^2*area in the direction perpendicular to velocity and (if possible), parallel to the plane normal. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a7e1a473e3dfa5933f1888a3126213878"></a>bool</td>
<td class="fieldname">
mFluid</td>
<td class="fielddoc">
If true then particles with phase 0 are considered fluid particles and interact using the position based fluids method. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a5656b80fbf3a11dcfd46545f5d3b692c"></a>float</td>
<td class="fieldname">
mCohesion</td>
<td class="fielddoc">
Control how strongly particles hold each other together, default: 0.025, range [0.0, +inf]. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a5708b5097e537c33dc35a7dc30b2a965"></a>float</td>
<td class="fieldname">
mSurfaceTension</td>
<td class="fielddoc">
Controls how strongly particles attempt to minimize surface area, default: 0.0, range: [0.0, +inf]. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a9d4a546d14a35beae3fe9f7a1583ab3a"></a>float</td>
<td class="fieldname">
mViscosity</td>
<td class="fielddoc">
Smoothes particle velocities using XSPH viscosity. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac18770a54c61f8f9778390b649713030"></a>float</td>
<td class="fieldname">
mVorticityConfinement</td>
<td class="fielddoc">
Increases vorticity by applying rotational forces to particles. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aeccf3128bca99bd0601ead6b1360c3c9"></a>float</td>
<td class="fieldname">
mAnisotropyScale</td>
<td class="fielddoc">
Control how much anisotropy is present in resulting ellipsoids for rendering, if zero then anisotropy will not be calculated, see <a class="el" href="flex_8h.html#af13676fdca1e8e3ab60486e77a0041fe">flexGetAnisotropy()</a> </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a3a41bc28b4965322e12b58b82a811b23"></a>float</td>
<td class="fieldname">
mSmoothing</td>
<td class="fielddoc">
Control the strength of Laplacian smoothing in particles for rendering, if zero then smoothed positions will not be calculated, see <a class="el" href="flex_8h.html#aa29cf6cae706f7bcc5466881c94196ed">flexGetSmoothParticles()</a> </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a7e85f08acfa1ab07b3911f24729e5026"></a>float</td>
<td class="fieldname">
mSolidPressure</td>
<td class="fielddoc">
Add pressure from solid surfaces to particles. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a0bbcd5ba777ce28615886d743642124a"></a>float</td>
<td class="fieldname">
mFreeSurfaceDrag</td>
<td class="fielddoc">
Drag force applied to boundary fluid particles. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad42a00e3cfe1151d9540273c38342ac1"></a>float</td>
<td class="fieldname">
mBuoyancy</td>
<td class="fielddoc">
Gravity is scaled by this value for fluid particles. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a5d9e8831754be718a0f6f03156f5ca7f"></a>float</td>
<td class="fieldname">
mDiffuseThreshold</td>
<td class="fielddoc">
Particles with kinetic energy + divergence above this threshold will spawn new diffuse particles. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="adb2e3fa364a4e90ee89d69cda19a922c"></a>float</td>
<td class="fieldname">
mDiffuseBuoyancy</td>
<td class="fielddoc">
Scales force opposing gravity that diffuse particles receive. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a0abbb9a93abf9d5836b5a3727830ca05"></a>float</td>
<td class="fieldname">
mDiffuseDrag</td>
<td class="fielddoc">
Scales force diffuse particles receive in direction of neighbor fluid particles. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a1223f1c219bf05c3844d9cc2145df10a"></a>int</td>
<td class="fieldname">
mDiffuseBallistic</td>
<td class="fielddoc">
The number of neighbors below which a diffuse particle is considered ballistic. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a0e0b91b602ae9339ad30cb3262152c1b"></a>float</td>
<td class="fieldname">
mDiffuseSortAxis[3]</td>
<td class="fielddoc">
Diffuse particles will be sorted by depth along this axis if non-zero. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a886d0d6acbb5b3fb4c0f11d4a94fcf5c"></a>float</td>
<td class="fieldname">
mPlasticThreshold</td>
<td class="fielddoc">
Particles belonging to rigid shapes that move with a position delta magnitude &gt; threshold will be permanently deformed in the rest pose. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a926edf8478db6c64728c96e8f1d5d0b2"></a>float</td>
<td class="fieldname">
mPlasticCreep</td>
<td class="fielddoc">
Controls the rate at which particles in the rest pose are deformed for particles passing the deformation threshold. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a7f74c1ea3e8241711607bc028337d75c"></a>float</td>
<td class="fieldname">
mCollisionDistance</td>
<td class="fielddoc">
Distance particles maintain against shapes. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a54d658d4ac101e44276e560f2e6f210e"></a>float</td>
<td class="fieldname">
mParticleCollisionMargin</td>
<td class="fielddoc">
Increases the radius used during neighbor finding, this is useful if particles are expected to move significantly during a single step to ensure contacts aren't missed on subsequent iterations. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a0de8fceea878255ab984d5d9f959ee7b"></a>float</td>
<td class="fieldname">
mShapeCollisionMargin</td>
<td class="fielddoc">
Increases the radius used during contact finding against kinematic shapes. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac879f8be83292c082450e503f5fe01ae"></a>float</td>
<td class="fieldname">
mPlanes[8][4]</td>
<td class="fielddoc">
Collision planes in the form ax + by + cz + d = 0. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a29695cca22a3d05e45495bb82e7b1f32"></a>int</td>
<td class="fieldname">
mNumPlanes</td>
<td class="fielddoc">
Num collision planes. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ab63d7a519007de5dc99b60afacd5f002"></a><a class="el" href="flex_8h.html#aa84210ede314159681ff175501ee801a">FlexRelaxationMode</a></td>
<td class="fieldname">
mRelaxationMode</td>
<td class="fielddoc">
How the relaxation is applied inside the solver. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ab23016bea8bea5083fc29833b03227f5"></a>float</td>
<td class="fieldname">
mRelaxationFactor</td>
<td class="fielddoc">
Control the convergence rate of the parallel solver, default: 1, values greater than 1 may lead to instability. </td></tr>
</table>

</div>
</div>
<a name="struct_flex_s_d_f" id="struct_flex_s_d_f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct FlexSDF</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Signed distance field collision shape, note that only cubic fields are currently supported (mWidth=mHeight=mDepth) </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aca80fd4198ff5a48b2308a74d2743797"></a>float</td>
<td class="fieldname">
mLower[3]</td>
<td class="fielddoc">
Shape AABB lower bounds in world space. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a733e636cdad55bbef0d8468c1d276410"></a>float</td>
<td class="fieldname">
mUpper[3]</td>
<td class="fielddoc">
Shape AABB upper bounds in world space. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad352ecdfeda5070a75d12e25605b4968"></a>float</td>
<td class="fieldname">
mInvEdgeLength[3]</td>
<td class="fielddoc">
1/(mUpper-mLower) </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa02de48a4714f1daebfb1790eda9dda8"></a>unsigned int</td>
<td class="fieldname">
mWidth</td>
<td class="fielddoc">
Field x dimension in voxels. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a4757caf050e81f826b4df96f6573cf21"></a>unsigned int</td>
<td class="fieldname">
mHeight</td>
<td class="fielddoc">
Field y dimension in voxels. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a12d145bf94cdc0b469b649d072dd61c7"></a>unsigned int</td>
<td class="fieldname">
mDepth</td>
<td class="fielddoc">
Field z dimension in voxels. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a784ee67e1a3c6b1f7ced0a4dcc6d31bc"></a>const float *</td>
<td class="fieldname">
mField</td>
<td class="fielddoc">
SDF voxel data, must be mWidth*mHeight*mDepth in length. </td></tr>
</table>

</div>
</div>
<a name="struct_flex_timers" id="struct_flex_timers"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct FlexTimers</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Time spent in each section of the solver update, times in seconds, see <a class="el" href="flex_8h.html#a123631e0dac280ff1df7237abbb6eec0">flexUpdateSolver()</a> </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a3d5d647e4cc0392df969d5c4d2304f9f"></a>float</td>
<td class="fieldname">
mPredict</td>
<td class="fielddoc">
Time spent in prediction. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a6e6d8a656adf3676e72a243a0db94d92"></a>float</td>
<td class="fieldname">
mCreateCellIndices</td>
<td class="fielddoc">
Time spent creating grid indices. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac278f035f705c505fe64fb54382df726"></a>float</td>
<td class="fieldname">
mSortCellIndices</td>
<td class="fielddoc">
Time spent sorting grid indices. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a441649091008f0fc80e5b494761d232f"></a>float</td>
<td class="fieldname">
mCreateGrid</td>
<td class="fielddoc">
Time spent creating grid. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ae65d7146cf0e73a92387faed7db57a83"></a>float</td>
<td class="fieldname">
mReorder</td>
<td class="fielddoc">
Time spent reordering particles. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ab8eb831cfe616a52a20c3adfb3106d97"></a>float</td>
<td class="fieldname">
mCollideParticles</td>
<td class="fielddoc">
Time spent finding particle neighbors. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a7dd618f47545c88381e4e9945377cf61"></a>float</td>
<td class="fieldname">
mCollideConvexes</td>
<td class="fielddoc">
Time spent colliding convex shapes. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a567dba2f95550b157406af39cafe8641"></a>float</td>
<td class="fieldname">
mCollideTriangles</td>
<td class="fielddoc">
Time spent colliding triangle shapes. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="adab312d6cfd8a90254964346b975c4ee"></a>float</td>
<td class="fieldname">
mCollideFields</td>
<td class="fielddoc">
Time spent colliding signed distance field shapes. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a57f4311f59d20747259b1f6c29064869"></a>float</td>
<td class="fieldname">
mCalculateDensity</td>
<td class="fielddoc">
Time spent calculating fluid density. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa53f53b91a1436f8bfd0a514a4cc7bad"></a>float</td>
<td class="fieldname">
mSolveDensities</td>
<td class="fielddoc">
Time spent solving density constraints. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="afa5a6c4fae23884192a67cc79acdcb64"></a>float</td>
<td class="fieldname">
mSolveVelocities</td>
<td class="fielddoc">
Time spent solving velocity constraints. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a001a4673b552696a3663db9df4083c6e"></a>float</td>
<td class="fieldname">
mSolveShapes</td>
<td class="fielddoc">
Time spent solving rigid body constraints. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="abe2ca4c122385155212c577e09603141"></a>float</td>
<td class="fieldname">
mSolveSprings</td>
<td class="fielddoc">
Time spent solving distance constraints. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a3bc9056215315b938effe5aeb6ade2f5"></a>float</td>
<td class="fieldname">
mSolveContacts</td>
<td class="fielddoc">
Time spent solving contact constraints. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="acf35be9c761599c9edca4e7f0c79b175"></a>float</td>
<td class="fieldname">
mSolveInflatables</td>
<td class="fielddoc">
Time spent solving pressure constraints. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad683c23c5ed7d49c4a3a8d736b4e9a5a"></a>float</td>
<td class="fieldname">
mCalculateAnisotropy</td>
<td class="fielddoc">
Time spent calculating particle anisotropy for fluid. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a30658cc05c6bdba9a4243ce7fcf03472"></a>float</td>
<td class="fieldname">
mUpdateDiffuse</td>
<td class="fielddoc">
Time spent updating diffuse particles. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="af5ca5769d46a03f0f7b53e1a547edd5c"></a>float</td>
<td class="fieldname">
mUpdateTriangles</td>
<td class="fielddoc">
Time spent updating dynamic triangles. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a3d653ab40dcd52cca1b8b922d364b70e"></a>float</td>
<td class="fieldname">
mUpdateNormals</td>
<td class="fielddoc">
Time spent updating vertex normals. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a616d7315ea7ad5c71fb1857a81641961"></a>float</td>
<td class="fieldname">
mFinalize</td>
<td class="fielddoc">
Time spent finalizing state. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a06342097b93169204b0a5d7787f20d82"></a>float</td>
<td class="fieldname">
mUpdateBounds</td>
<td class="fielddoc">
Time spent updating particle bounds. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a281428bc67eabf78afd18d4c20799450"></a>float</td>
<td class="fieldname">
mTotal</td>
<td class="fielddoc">
Sum of all timers above. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ad6ddba80f51ca218fb6b333a304d59b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* FlexErrorCallback) (const char *msg, const char *file, int line)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error reporting callback. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="aa84210ede314159681ff175501ee801a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="flex_8h.html#aa84210ede314159681ff175501ee801a">FlexRelaxationMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Simulation parameters for a solver </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="aa84210ede314159681ff175501ee801aa96f719e9962973941d46799e9cf60294"></a>eFlexRelaxationGlobal&#160;</td><td class="fielddoc">
<p>The relaxation factor is a fixed multiplier on each constraint's position delta. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa84210ede314159681ff175501ee801aaa94838be8309c75e80f261bf7e88c004"></a>eFlexRelaxationLocal&#160;</td><td class="fielddoc">
<p>The relaxation factor is a fixed multiplier on each constraint's delta divided by the particle's constraint count, convergence will be slower but more reliable. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a2a1a5eafd344f1128a1de76437c569f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="flex_8h.html#a2a1a5eafd344f1128a1de76437c569f5">FlexPhase</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flags that control the a particle's behavior and grouping </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a2a1a5eafd344f1128a1de76437c569f5ad91fca71478c6f7b65db6c93a25710e4"></a>eFlexPhaseGroupMask&#160;</td><td class="fielddoc">
<p>Low 24 bits represent the particle group for controlling collisions. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a2a1a5eafd344f1128a1de76437c569f5a8d6fa802a0a5c503c9dc020e29c74716"></a>eFlexPhaseSelfCollide&#160;</td><td class="fielddoc">
<p>Flag specifying whether this particle will interact with particles of the same group. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a2a1a5eafd344f1128a1de76437c569f5aa1c5ffee686acb16bd7f004de4892c17"></a>eFlexPhaseFluid&#160;</td><td class="fielddoc">
<p>Flag specifying whether this particle will generate fluid density constraints for its overlapping neighbors. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="aa15448fe80100ed8d350242c50c02099"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="flex_8h.html#aa15448fe80100ed8d350242c50c02099">FlexError</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flex error types </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="aa15448fe80100ed8d350242c50c02099a98f4b9d464787ccc7355b7a2fd132681"></a>eFlexErrorNone&#160;</td><td class="fielddoc">
<p>The API call returned with no errors. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa15448fe80100ed8d350242c50c02099ad7805619e1b9d9c97b8a37cb7f51cd19"></a>eFlexErrorWrongVersion&#160;</td><td class="fielddoc">
<p>The header version does not match the library binary. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aa15448fe80100ed8d350242c50c02099abb05a2f612920d716450abbb1dd76868"></a>eFlexErrorInsufficientGPU&#160;</td><td class="fielddoc">
<p>The GPU associated with the calling thread does not meet requirements. An SM3.0 GPU or above is required. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a8d4a07b65ccdc55b103e389d3a13c43f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Designates a memory space for getting/settings data to/from </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a8d4a07b65ccdc55b103e389d3a13c43fa9a07db2255d11767f0154b949d86f682"></a>eFlexMemoryHost&#160;</td><td class="fielddoc">
<p>Host (CPU) memory. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a8d4a07b65ccdc55b103e389d3a13c43fa83434c6e48e1f93f9af0ef9700e4703c"></a>eFlexMemoryDevice&#160;</td><td class="fielddoc">
<p>Device (GPU) memory. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a8d4a07b65ccdc55b103e389d3a13c43fa7151aacd0b90a03de715a906cd65d75e"></a>eFlexMemoryHostAsync&#160;</td><td class="fielddoc">
<p>Host (CPU) memory asynchronous, when used with a flexGet/flexSet method the memory transfer will be asynchronous and should be synchronized with <a class="el" href="flex_8h.html#ab383c23569713b20ffaf491fbfe820a5">flexWaitFence()</a> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a8d4a07b65ccdc55b103e389d3a13c43fa3e07d54e4afd7cc0f62683b084df6860"></a>eFlexMemoryDeviceAsync&#160;</td><td class="fielddoc">
<p>Device (GPU) memory asynchronous, when used with a flexGet/flexSet method the memory transfer will be asynchronous and should be synchronized with <a class="el" href="flex_8h.html#ab383c23569713b20ffaf491fbfe820a5">flexWaitFence()</a> </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aaa8bead533bb85e325671a0542a1ed66"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API int flexMakePhase </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generate a bit set for the particle phase, the group should be an integer &lt; 2^24, and the flags should be a combination of FlexPhase enum values </p>

</div>
</div>
<a class="anchor" id="a67853f365937a07de6cb45987365036d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API <a class="el" href="flex_8h.html#aa15448fe80100ed8d350242c50c02099">FlexError</a> flexInit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>version</em> = <code>FLEX_VERSION</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#ad6ddba80f51ca218fb6b333a304d59b5">FlexErrorCallback</a>&#160;</td>
          <td class="paramname"><em>errorFunc</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize library, should be called before any other API function.</p>
<dl class="section note"><dt>Note</dt><dd>Flex uses the calling thread's CUDA context for all operations so users should make sure the same context is used for all API calls (this should be the case if just using the default runtime context). </dd></dl>

</div>
</div>
<a class="anchor" id="a37f793e21e30d933d8328eff12ca7e83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexShutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shutdown library, users should manually destroy any previously created solvers to ensure memory is freed before calling this method. </p>

</div>
</div>
<a class="anchor" id="afe2dbd7d24ff6c122ccc36246a97fd96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API int flexGetVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get library version number </p>

</div>
</div>
<a class="anchor" id="a481b2c1f52a59c5f3249c6718d247b91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API FlexSolver* flexCreateSolver </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxParticles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxDiffuseParticles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>maxNeighborsPerParticle</em> = <code>96</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new particle solver</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">maxParticles</td><td>Maximum number of simulation particles possible for this solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxDiffuseParticles</td><td>Maximum number of diffuse (non-simulation) particles possible for this solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxNeighborsPerParticle</td><td>Maximum number of neighbors per particle possible for this solver </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a77869d56e0821a0359f9fe4dae983adf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexDestroySolver </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a particle solver </p>

</div>
</div>
<a class="anchor" id="a123631e0dac280ff1df7237abbb6eec0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexUpdateSolver </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>substeps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#struct_flex_timers">FlexTimers</a> *&#160;</td>
          <td class="paramname"><em>timers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Move particle solver forward in time</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dt</td><td>Time to integrate the solver forward in time by </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">substeps</td><td>The time dt will be divided into the number of sub-steps given by this parameter </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">timers</td><td>If non-NULL this struct will be filled out with profiling information for the step, note that profiling can substantially slow down overal performance so this param should only be non-NULL in non-release builds </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a34a7c08c533ede658aaa45e569f3a4fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetParams </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="flex_8h.html#struct_flex_params">FlexParams</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update solver paramters</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Parameters structure in host memory, see <a class="el" href="flex_8h.html#struct_flex_params">FlexParams</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a64fe347379ed3b5d55d92d96177eb845"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetActive </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the active particles indices in the solver</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">indices</td><td>Holds the indices of particles that have been made active </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Number of particles to allocate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The memory space of the indices </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a62d99bf673a100a35b432cb5083a9127"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexGetActive </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the active particle indices</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">indices</td><td>An array of indices at least activeCount in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target</td><td>The memory space of the destination buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a56ff459103d6db48e9920092c191c3c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API int flexGetActiveCount </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the number of active particles in the solver</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of active particles in the solver </dd></dl>

</div>
</div>
<a class="anchor" id="a8bb279ec19890178007a281168c2151a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetParticles </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the particles state of the solver, a particle consists of 4 floating point numbers, it's x,y,z position followed by it's inverse mass (1/m)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>Pointer to an array of particle data, should be 4*n in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>The number of particles to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The memory space of the source buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5a5686ef401b02ef20df8be6f54e648d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexGetParticles </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the particles state of the solver, a particle consists of 4 floating point numbers, it's x,y,z position followed by it's inverse mass (1/m)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p</td><td>Pointer to an array of 4*n floats that will be filled out with the particle data, can be either a host or device pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>The number of particles to get, must be less than max particles passed to flexCreateSolver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target</td><td>The memory space of the destination buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa29cf6cae706f7bcc5466881c94196ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexGetSmoothParticles </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the Laplacian smoothed particle positions for rendering, see <a class="el" href="flex_8h.html#a3a41bc28b4965322e12b58b82a811b23" title="Control the strength of Laplacian smoothing in particles for rendering, if zero then smoothed positio...">FlexParams::mSmoothing</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p</td><td>Pointer to an array of 4*n floats that will be filled out with the data, can be either a host or device pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>The number of smooth particles to return </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target</td><td>The memory space of the destination buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a19a24c113050dbe1aa0d4e4655d56149"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetVelocities </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the particle velocities, each velocity is a 3-tuple of x,y,z floating point values</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v</td><td>Pointer to an array of 3*n floats </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>The number of velocities to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The memory space of the source buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a07175d82a67929b600291e03a17a92c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexGetVelocities </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the particle velocities, each velocity is a 3-tuple of x,y,z floating point values</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">v</td><td>Pointer to an array of 3*n floats that will be filled out with the data, can be either a host or device pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>The number of velocities to get </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target</td><td>The memory space of the destination buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2e68c495aaeea30cc8eff13e2bd2bfef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetPhases </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>phases</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the particles phase id array, each particle has an associated phase id which controls how it interacts with other particles. Particles with phase 0 interact with all other phase types.</p>
<p>Particles with a non-zero phase id only interact with particles whose phase differs from theirs. This is useful, for example, to stop particles belonging to a single rigid shape from interacting with each other.</p>
<p>Phase 0 is used to indicate fluid particles when <a class="el" href="flex_8h.html#a7e1a473e3dfa5933f1888a3126213878" title="If true then particles with phase 0 are considered fluid particles and interact using the position ba...">FlexParams::mFluid</a> is set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">phases</td><td>Pointer to an array of n integers containing the phases </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>The number of phases to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The memory space of the source buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad911873f139019cede3b4e7c2a667126"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexGetPhases </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>phases</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the particle phase ids</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">phases</td><td>Pointer to an array of n integers that will be filled with the phase data, can be either a host or device pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>The number of phases to get </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target</td><td>The memory space of the destination buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad56d32467a07138f524b8183e8a743a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetSprings </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>restLengths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>stiffness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numSprings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set spring constraints for the solver. Each spring consists of two particle indices stored consecutively, a rest-length, and a stiffness value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">indices</td><td>Pointer to the spring indices array, should be 2*numSprings length, 2 indices per-spring </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">restLengths</td><td>Pointer to an array of rest lengths, should be numSprings length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stiffness</td><td>Pointer to the spring stiffness coefficents, should be numSprings in length, a negative stiffness value represents a tether constraint </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numSprings</td><td>The number of springs to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The memory space of the source buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa0a759d7b9b0c32f4ba54fa2a6d85a0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexGetSprings </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>restLengths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>stiffness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numSprings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the spring constraints for the solver</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">indices</td><td>Pointer to the spring indices array, should be 2*numSprings length, 2 indices per-spring </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">restLengths</td><td>Pointer to an array of rest lengths, should be numSprings length </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">stiffness</td><td>Pointer to the spring stiffness coefficents, should be numSprings in length, a negative stiffness value represents a unilateral tether constraint (only resists stretching, not compression), valid range [-1, 1] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numSprings</td><td>The number of springs to get </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target</td><td>The memory space of the destination buffers </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a40eedc54bf79039217c4379edd7aca9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetRigids </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>restPositions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>restNormals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>stiffness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>rotations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numRigids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set rigid body constraints for the solver. </p><dl class="section note"><dt>Note</dt><dd>A particle should not belong to more than one rigid body at a time.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offsets</td><td>Pointer to an array of start offsets for a rigid in the indices array, should be numRigids+1 in length, the first entry must be 0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">indices</td><td>Pointer to an array of indices for the rigid bodies, the indices for the jth rigid body start at indices[offsets[j]] and run to indices[offsets[j+1]] exclusive </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">restPositions</td><td>Pointer to an array of local space positions relative to the rigid's center of mass (average position), this should be at least 4*numIndices in length in the format x,y,z,w </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">restNormals</td><td>Pointer to an array of local space normals, this should be at least 4*numIndices in length in the format x,y,z,w where w is the (negative) signed distance of the particle inside it's shape </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stiffness</td><td>Pointer to an array of rigid stiffness coefficents, should be numRigids in length, valid values in range [0, 1] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rotations</td><td>Pointer to an array of 3x3 rotation matrices (9*numRigids in length) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numRigids</td><td>The number of rigid bodies to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The memory space of the source buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0b641afdd56480c8fb5710909372e956"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetNormals </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>normals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set per-particle normals to the solver, these will be overwritten after each simulation step</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">normals</td><td>Pointer to an array of normals, should be 4*n in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>The number of normals to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The memory space of the source buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a45004233a3f38edf7a524e08f9cc58d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexGetNormals </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>normals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get per-particle normals from the solver, these are the world-space normals computed during surface tension and rigid body calculations</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">normals</td><td>Pointer to an array of normals, should be 4*n in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>The number of normals to get </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target</td><td>The memory space of the destination buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8d272d69e2b9cc0eb50306a08014604a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexGetRigidTransforms </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>rotations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>translations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the rotation matrices for the rigid bodies in the solver</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rotations</td><td>Pointer to an array of 3x3 rotation matrices to hold the rigid rotations, should be 9*numRigids floats in length </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">translations</td><td>Pointer to an array of vectors to hold the rigid translations, should be 3*numRigids floats in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target</td><td>The memory space of the destination buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a60f1a1b96f0b3800bc15354a7d35a660"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetConvexes </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>aabbMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>aabbMax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>planeOffsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>planeCounts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>planes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>rotations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>prevPositions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>prevRotations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numConvexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numPlanes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the convex collision shapes for the solver, the convex data is specified in structure of array (SOA) format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aabbMin</td><td>Point to an array of lower AABB coordinates for each convex in world space, should be 4*numConvexes in length in x,y,z,* format </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aabbMax</td><td>Pointer to an array of upper AABB coordinates for each convex in world space, should be 4*numConvexes in length in x,y,z,* format </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">planeOffsets</td><td>Pointer to an array of start offsets into the planes array for each convex, should be numConvexes in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">planeCounts</td><td>Pointer to an array of counts representing the number of planes belonging to each convex, should be numConvexes in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">planes</td><td>Pointer to an array of planes defining the convex shapes in ax + by + cz + d = 0 form, planes are specified in a local coordinate solver, should be 4*numPlanes in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">positions</td><td>Pointer to an array of translations for each convex in world space, should be 4*numConvexes in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rotations</td><td>Pointer to an an array of rotations for each convex stored as quaternion, should be 4*numConvexes in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prevPositions</td><td>Pointer to an array of translations for each convex at the start of the time step, should be 4*numConvexes in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prevRotations</td><td>Pointer to an an array of rotations for each convex stored as a quaternion at the start of the time step, should be 4*numConvexes in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Whether the convex is considered static (0), or dynamic (1), collisions with static shapes are prioritized over dynamic ones </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numConvexes</td><td>The number of convexes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numPlanes</td><td>The total number of planes for all convexes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The memory space of the source buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad9333e3cee8b71dc330a38ddd2d68614"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetTriangles </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>vertices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numTris</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numVertices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>cellSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the triangle mesh collision data for the solver, triangles are treated as two-sided and collided using a continuous collison detection method to prevent tunnelling</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">indices</td><td>Pointer to an array of triangle vertex indices, should be 3*numTris in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vertices</td><td>Pointer to an array of vertex positions in world space, should be 3*numPositions in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numTris</td><td>The number of triangles </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numVertices</td><td>The number of mesh vertices </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cellSize</td><td>The size of grid cell used for broad phase collision culling, should be set relative to particle radius, e.g. 2*radius </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The memory space of the source buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5915816ad9aa4ec813337c1c408c4097"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetFields </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="flex_8h.html#struct_flex_s_d_f">FlexSDF</a> *&#160;</td>
          <td class="paramname"><em>shapes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numShapes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the signed distance field collision shapes, see <a class="el" href="flex_8h.html#struct_flex_s_d_f">FlexSDF</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shapes</td><td>Pointer to an array of signed distance field shapes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numShapes</td><td>The number of shapes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad47d1c0dfa31af7be8ddbc575ec751b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetDynamicTriangles </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>normals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numTris</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set dynamic triangles mesh indices, typically used for cloth. Flex will calculate normals and apply wind and drag effects to connected particles. See <a class="el" href="flex_8h.html#a324ea91980ce4f37d0572a785052fd05" title="Drag force applied to particles belonging to dynamic triangles, proportional to velocity^2*area in th...">FlexParams::mDrag</a>, <a class="el" href="flex_8h.html#a272f2cf5cb303c3d6e4402ad6ef01b41" title="Constant acceleration applied to particles that belong to dynamic triangles, drag needs to be > 0 for...">FlexParams::mWind</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">indices</td><td>Pointer to an array of triangle indices into the particles array, should be 3*numTris in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">normals</td><td>Pointer to an array of triangle normals, should be 3*numTris in length, can be NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numTris</td><td>The number of dynamic triangles </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The memory space of the source buffers </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a56bcb20399582c0d74d51823f77a1e95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexGetDynamicTriangles </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>normals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numTris</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the dynamic triangle indices and normals.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">indices</td><td>Pointer to an array of triangle indices into the particles array, should be 3*numTris in length, if NULL indices will not be returned </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">normals</td><td>Pointer to an array of triangle normals, should be 3*numTris in length, if NULL normals will be not be returned </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numTris</td><td>The number of dynamic triangles </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target</td><td>The memory space of the destination arrays </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3f409835a6c1f6a80842f2845c391964"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetInflatables </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>startTris</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>numTris</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>restVolumes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>overPressures</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>constraintScales</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numInflatables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set inflatable shapes, an inflatable is a range of dynamic triangles that represent a closed mesh. Each inflatable has a given rest volume, constraint scale (roughly equivalent to stiffness), and "over pressure" that controls how much the shape is inflated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">startTris</td><td>Pointer to an array of offsets into the solver's dynamic triangles for each inflatable, should be numInflatables in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numTris</td><td>Pointer to an array of triangle counts for each inflatable, should be numInflatablesin length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">restVolumes</td><td>Pointer to an array of rest volumes for the inflatables, should be numInflatables in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">overPressures</td><td>Pointer to an array of floats specifying the pressures for each inflatable, a value of 1.0 means the rest volume, &gt; 1.0 means over-inflated, and &lt; 1.0 means under-inflated, should be numInflatables in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">constraintScales</td><td>Pointer to an array of scaling factors for the constraint, this is roughly equivalent to stiffness but includes a constraint scaling factor from position-based dynamics, see helper code for details, should be numInflatables in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numInflatables</td><td>Number of inflatables to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The memory space of the source buffers </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5a8359fd8b3d7484963bf9d2a6d48d73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexGetDensities </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>densities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the density values for fluid particles</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">densities</td><td>Pointer to an array of floats, should be maxParticles in length, density values are normalized between [0, 1] where 1 represents the rest density </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target</td><td>The memory space of the destination arrays </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af13676fdca1e8e3ab60486e77a0041fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexGetAnisotropy </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>q1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>q2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>q3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the anisotropy of fluid particles, the particle distribution for a particle is represented by 3 orthogonal vectors. Each 3-vector has unit length with the variance along that axis packed into the w component, i.e.: x,y,z,lambda.</p>
<p>The anisotropy defines an oriented ellipsoid in worldspace that can be used for rendering or surface extraction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">q1</td><td>Pointer to an array of floats that receive the first basis vector and scale, should be 4*maxParticles in length </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">q2</td><td>Pointer to an array of floats that receive the second basis vector and scale, should be 4*maxParticles in length </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">q3</td><td>Pointer to an array of floats that receive the third basis vector and scale, should be 4*maxParticles in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target</td><td>The memory space of the destination arrays </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a16b4a727b7eb9496dc622632945347ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API int flexGetDiffuseParticles </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the state of the diffuse particles. Diffuse particles are passively advected by the fluid velocity field.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p</td><td>Pointer to an array of floats, should be 4*maxParticles in length, the w component represents the particles lifetime with 1 representing a new particle, and 0 representing an inactive particle </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">v</td><td>Pointer to an array of floats, should be 4*maxParticles in length, the w component is not used </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">indices</td><td>Pointer to an array of ints that specify particle indices in depth sorted order, should be maxParticles in length, see FlexParams::mDiffuseSortDir </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target</td><td>The memory space of the destination arrays </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a566b6b271d132dc6bb1bbf7e31c2dba7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetDiffuseParticles </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the state of the diffuse particles. Diffuse particles are passively advected by the fluid velocity field.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>Pointer to an array of floats, should be 4*n in length, the w component represents the particles lifetime with 1 representing a new particle, and 0 representing an inactive particle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v</td><td>Pointer to an array of floats, should be 4*n in length, the w component is not used </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Number of diffuse particles to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The memory space of the source buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a85d24ef1b6309d48b4b9bc5dc7549d40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexGetContacts </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>planes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>counts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43f">FlexMemory</a>&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the particle contact planes. Note this will only include contacts that were active on the last substep of an update, and will include all contact planes generated within FlexParam::mShapeCollisionMargin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">planes</td><td>Pointer to a destination buffer containing the contact planes for the particle, each particle can have up to 4 contact planes so this buffer should be 16*maxParticles in length </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">indices</td><td>Pointer to an array of indices into the contacts buffer, the contact planes for the i'th particle are given by planes[indices[i]], should be maxParticles in length </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">counts</td><td>Pointer to an array of contact counts for each particle (will be &lt; 4), this buffer should be maxParticles in length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target</td><td>The memory space of the target buffers </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a83c876e62814c30769afbdceb3eba4d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexGetBounds </td>
          <td>(</td>
          <td class="paramtype">FlexSolver *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>lower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>upper</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the world space AABB of all particles in the solver.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>A valid solver </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lower</td><td>Pointer to an array of 3 floats to receive the lower bounds </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">upper</td><td>Pointer to an array of 3 floats to receive the upper bounds </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa97bd77c37ff0ace1c204b7e907aac7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void* flexAlloc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates size bytes of memory from the optimal memory pool. Using this function is optional, but when passed to flexGet/flexSet methods it may result in significantly faster transfers, memory used with async transfers should be allocated by this method to ensure optimal performance. For CUDA implementations this method will return pinned host memory from cudaMallocHost().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The number of bytes to alloc </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the allocated memory </dd></dl>

</div>
</div>
<a class="anchor" id="ac43dff907a7c0729357293a38b2ab452"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexFree </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free memory allocated through flexAlloc</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>Pointer returned from flexAlloc </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a424335ccda6d2b10b9da473440dce147"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexSetFence </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a fence that can be used to synchronize the calling thread with any outstanding GPU work, typically used with async transfers to ensure any flexGet/flexSet calls have completed.</p>
<div class="fragment"><div class="line"><span class="comment">// update solver</span></div>
<div class="line"><a class="code" href="flex_8h.html#a123631e0dac280ff1df7237abbb6eec0">flexUpdateSolver</a>(solver, dt, iterations, NULL);</div>
<div class="line"></div>
<div class="line"><span class="comment">// read back state</span></div>
<div class="line"><a class="code" href="flex_8h.html#a5a5686ef401b02ef20df8be6f54e648d">flexGetParticles</a>(solver, &amp;particles, n, <a class="code" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43fa7151aacd0b90a03de715a906cd65d75e">eFlexMemoryHostAsync</a>);</div>
<div class="line"><a class="code" href="flex_8h.html#a07175d82a67929b600291e03a17a92c5">flexGetVelocities</a>(solver, &amp;velocities, n, <a class="code" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43fa7151aacd0b90a03de715a906cd65d75e">eFlexMemoryHostAsync</a>);</div>
<div class="line"><a class="code" href="flex_8h.html#a5a8359fd8b3d7484963bf9d2a6d48d73">flexGetDensities</a>(solver, &amp;densities, n, <a class="code" href="flex_8h.html#a8d4a07b65ccdc55b103e389d3a13c43fa7151aacd0b90a03de715a906cd65d75e">eFlexMemoryHostAsync</a>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// insert fence</span></div>
<div class="line"><a class="code" href="flex_8h.html#a424335ccda6d2b10b9da473440dce147">flexSetFence</a>();</div>
<div class="line"></div>
<div class="line"><span class="comment">// perform asynchronous CPU work</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// wait for queued work to finish</span></div>
<div class="line"><a class="code" href="flex_8h.html#ab383c23569713b20ffaf491fbfe820a5">flexWaitFence</a>();</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ab383c23569713b20ffaf491fbfe820a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FLEX_API void flexWaitFence </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait's for the work scheduled before the last call to <a class="el" href="flex_8h.html#a424335ccda6d2b10b9da473440dce147">flexSetFence()</a> to complete If <a class="el" href="flex_8h.html#a424335ccda6d2b10b9da473440dce147">flexSetFence()</a> has not yet been called then this is function returns immediately </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 30 2015 10:13:57 for FLEX by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
